import{r as x,u as v,U as _,c as w,w as c,a as m,b as s,h as $,d as e,I as U,o as i,g as u,t as a,i as b,e as C,j as M,G as N,F as V,l as B,p as D,P as S}from"./app-oKiCCnFa.js";import{_ as T,A}from"./AuthenticatedLayout-B0mCR-y7.js";import"./ApplicationLogo-BEaRJJwb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Footer-DodseqVY.js";const F={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},L={class:"max-w-2xl mx-auto pb-12 px-4 sm:px-6 lg:px-8 space-y-8 mt-16"},R={key:0,class:"fixed bottom-10 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-green-100 dark:bg-green-900 border-l-4 border-green-500 dark:border-green-400 text-green-700 dark:text-green-100 p-4 rounded shadow-lg z-50"},j={class:"font-bold text-center"},E={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},P={class:"mb-4"},z={for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},G={key:0,class:"text-red-600 dark:text-red-400 text-sm mt-1"},I={type:"submit",class:"w-full sm:w-auto px-4 py-2 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-md transition hover:bg-blue-300 dark:hover:bg-blue-600 hover:text-white text-center"},q={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},H={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow"},J={class:"divide-y divide-gray-200 dark:divide-gray-600"},K={class:"text-gray-800 dark:text-gray-200"},O=["onClick"],Q={key:0,class:"text-gray-500 dark:text-gray-400 mt-4"},se={__name:"Register",props:{units:Array},setup(p){const f=D(),n=x(f.props.flash.success||null),h=p,g=x(h.units?[...h.units]:[]),r=v({name:""}),y=()=>{r.post(route("units.store"),{onSuccess:t=>{r.reset(),g.value=[...t.props.units],n.value="部署が正常に登録されました。"}})},l=S(),k=async t=>{await l.showDialog(`${t.name}を削除してもよろしいですか？`)&&r.delete(route("units.destroy",t.id),{onSuccess:o=>{g.value=[...o.props.units],n.value="部署が削除されました。"}})};return _(()=>{if(n.value){const t=setTimeout(()=>{n.value=null},8e3);return()=>clearTimeout(t)}}),(t,d)=>(i(),w(A,null,{header:c(()=>[e("h2",F,a(t.$t("Unit Management")),1)]),default:c(()=>[m(T,{"is-visible":s(l).state.isVisible,message:s(l).state.message,onConfirm:s(l).confirm,onCancel:s(l).cancel},null,8,["is-visible","message","onConfirm","onCancel"]),m(s($),{title:t.$t("Unit Management")},null,8,["title"]),e("div",L,[m(U,{name:"fade"},{default:c(()=>[n.value?(i(),u("div",R,[e("p",j,a(n.value),1)])):b("",!0)]),_:1}),e("h2",E,a(t.$t("Unit Registration")),1),e("form",{onSubmit:C(y,["prevent"]),class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow"},[e("div",P,[e("label",z,a(t.$t("Unit Name")),1),M(e("input",{type:"text",id:"name","onUpdate:modelValue":d[0]||(d[0]=o=>s(r).name=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[N,s(r).name]]),s(r).errors.name?(i(),u("div",G,a(s(r).errors.name),1)):b("",!0)]),e("button",I,a(t.$t("Register Unit")),1)],32),e("h2",q,a(t.$t("Unit List")),1),e("div",H,[e("ul",J,[(i(!0),u(V,null,B(g.value,o=>(i(),u("li",{key:o.id,class:"flex justify-between items-center py-4"},[e("span",K,a(o.name),1),e("button",{onClick:W=>k(o),class:"px-4 py-2 bg-red-100 dark:bg-red-800 text-red-700 dark:text-red-300 rounded-md transition hover:bg-red-300 dark:hover:bg-red-600 hover:text-white text-center"},[...d[1]||(d[1]=[e("i",{class:"bi bi-trash"},null,-1)])],8,O)]))),128))]),g.value.length===0?(i(),u("p",Q,a(t.$t("No units available.")),1)):b("",!0)])])]),_:1}))}};export{se as default};
