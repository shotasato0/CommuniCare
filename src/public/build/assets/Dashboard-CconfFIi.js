import{l as P,r,s as T,f as l,a as u,u as n,w as b,F as U,o as a,m as A,b as e,t as i,e as w,G as B,n as G,g as c,c as z}from"./app-BGfmsnWH.js";import{A as L,_ as N,r as j}from"./AuthenticatedLayout-CUiVAEbY.js";import E from"./Dashboard-BnCVcd8x.js";import S from"./Show-ZuKv-erW.js";import"./ApplicationLogo-BvExYBVO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Footer-C77glWd_.js";const I={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},O={class:"pb-12 px-4 sm:px-8 lg:px-16"},Y={class:"max-w-6xl mx-auto"},q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},H={class:"p-6 text-gray-900 dark:text-gray-100"},J={class:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0"},K={class:"flex items-center space-x-4"},Q={key:0},R={key:1},W=["src"],X={class:"flex items-center"},Z={class:"font-bold text-lg text-gray-500 dark:text-gray-300 group-hover:text-black dark:group-hover:text-white transition-colors"},ee={class:"font-bold"},se={key:0},de={__name:"Dashboard",setup(te){const{props:t}=P(),C=t.isAdmin,d=t.flash,$=t.isGuest,g=r(d.success||d.error||null),f=r(d.success?"success":d.error?"error":"info"),p=r(!0);T(()=>{g.value&&setTimeout(()=>{p.value=!1},8e3)});const m=r(!1),x=r(""),_=r(null),D=({message:s,onConfirm:o})=>{x.value=s,_.value=o,m.value=!0},k=()=>{m.value=!1},V=()=>{j(t.units,t.users,t.auth.user.unit_id,"forum.index",D)},h=r(!1),v=r(null),F=s=>{v.value=s,h.value=!0},M=()=>{h.value=!1};return(s,o)=>(a(),l(U,null,[u(n(A),{title:s.$t("Dashboard")},null,8,["title"]),u(L,null,{header:b(()=>[e("h2",I,i(s.$t("Dashboard")),1)]),default:b(()=>[e("div",O,[e("div",Y,[e("div",q,[e("div",H,[e("div",J,[e("div",K,[n($)?(a(),l("div",R,i(s.$t("Logged in as guest user")),1)):(a(),l("div",Q,i(s.$t("You're logged in")),1)),e("button",{href:"#",onClick:w(V,["prevent"]),class:"text-blue-500 link-hover whitespace-nowrap"},i(s.$t("Go to Forum")),1)]),e("div",{onClick:o[1]||(o[1]=y=>F(n(t).auth.user)),class:"flex items-center space-x-4 group hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg p-2 cursor-pointer"},[e("img",{src:n(t).auth.user.iconUrl||"/images/default_user_icon.png",alt:"Profile Icon",class:"w-12 h-12 rounded-full",onError:o[0]||(o[0]=y=>y.target.src="/images/default_user_icon.png")},null,40,W),e("div",X,[e("span",Z,i(n(t).auth.user.name),1)])])])])])])]),u(B,{name:"fade"},{default:b(()=>[g.value&&p.value?(a(),l("div",{key:0,class:G([{"bg-green-100 dark:bg-green-900 border-l-4 border-green-500 text-green-700 dark:text-green-300 p-4":f.value==="success","bg-red-100 dark:bg-red-900 border-l-4 border-red-500 text-red-700 dark:text-red-300 p-4":f.value==="error","bg-blue-100 dark:bg-blue-900 border-l-4 border-blue-500 text-blue-700 dark:text-blue-300 p-4":f.value==="info"},"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md mx-auto sm:rounded-lg shadow-lg text-center"])},[e("p",ee,i(g.value),1)],2)):c("",!0)]),_:1}),n(C)?(a(),l("div",se,[u(E)])):c("",!0),h.value?(a(),l("div",{key:1,class:"fixed inset-0 bg-black/50 dark:bg-black/70 flex justify-center items-center z-50",onClick:M},[e("div",{onClick:o[2]||(o[2]=w(()=>{},["stop"]))},[v.value?(a(),z(S,{key:0,user:v.value,units:s.units},null,8,["user","units"])):c("",!0)])])):c("",!0),u(N,{isVisible:m.value,message:x.value,onConfirm:[_.value,k],showProfileLink:!0,onCancel:k},null,8,["isVisible","message","onConfirm"])]),_:1})],64))}};export{de as default};
