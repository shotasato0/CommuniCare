import{l as v,r as h,C as _,R as w,c as $,w as c,o as i,b as e,t as s,a as m,u as a,m as C,f as u,g as b,G as U,e as N,i as D,D as M,k as V,F as B,N as R}from"./app-BGfmsnWH.js";import{A as S,_ as T}from"./AuthenticatedLayout-CUiVAEbY.js";import"./ApplicationLogo-BvExYBVO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Footer-C77glWd_.js";const A={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},L={class:"max-w-2xl mx-auto pb-12 px-4 sm:px-6 lg:px-8 space-y-8 mt-16"},E={key:0,class:"fixed bottom-10 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-green-100 dark:bg-green-900 border-l-4 border-green-500 dark:border-green-400 text-green-700 dark:text-green-100 p-4 rounded shadow-lg z-50"},F={class:"font-bold text-center"},j={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},z={class:"mb-4"},G={for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},q={key:0,class:"text-red-600 dark:text-red-400 text-sm mt-1"},H={type:"submit",class:"w-full sm:w-auto px-4 py-2 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-md transition hover:bg-blue-300 dark:hover:bg-blue-600 hover:text-white text-center"},I={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},J={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow"},K={class:"divide-y divide-gray-200 dark:divide-gray-600"},O={class:"text-gray-800 dark:text-gray-200"},P=["onClick"],Q={key:0,class:"text-gray-500 dark:text-gray-400 mt-4"},se={__name:"Register",props:{units:Array},setup(p){const f=v(),n=h(f.props.flash.success||null),x=p,g=h(x.units?[...x.units]:[]),r=_({name:""}),y=()=>{r.post(route("units.store"),{onSuccess:t=>{r.reset(),g.value=[...t.props.units],n.value="部署が正常に登録されました。"}})},l=R(),k=async t=>{await l.showDialog(`${t.name}を削除してもよろしいですか？`)&&r.delete(route("units.destroy",t.id),{onSuccess:o=>{g.value=[...o.props.units],n.value="部署が削除されました。"}})};return w(()=>{if(n.value){const t=setTimeout(()=>{n.value=null},8e3);return()=>clearTimeout(t)}}),(t,d)=>(i(),$(S,null,{header:c(()=>[e("h2",A,s(t.$t("Unit Management")),1)]),default:c(()=>[m(T,{"is-visible":a(l).state.isVisible,message:a(l).state.message,onConfirm:a(l).confirm,onCancel:a(l).cancel},null,8,["is-visible","message","onConfirm","onCancel"]),m(a(C),{title:t.$t("Unit Management")},null,8,["title"]),e("div",L,[m(U,{name:"fade"},{default:c(()=>[n.value?(i(),u("div",E,[e("p",F,s(n.value),1)])):b("",!0)]),_:1}),e("h2",j,s(t.$t("Unit Registration")),1),e("form",{onSubmit:N(y,["prevent"]),class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow"},[e("div",z,[e("label",G,s(t.$t("Unit Name")),1),D(e("input",{type:"text",id:"name","onUpdate:modelValue":d[0]||(d[0]=o=>a(r).name=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[M,a(r).name]]),a(r).errors.name?(i(),u("div",q,s(a(r).errors.name),1)):b("",!0)]),e("button",H,s(t.$t("Register Unit")),1)],32),e("h2",I,s(t.$t("Unit List")),1),e("div",J,[e("ul",K,[(i(!0),u(B,null,V(g.value,o=>(i(),u("li",{key:o.id,class:"flex justify-between items-center py-4"},[e("span",O,s(o.name),1),e("button",{onClick:W=>k(o),class:"px-4 py-2 bg-red-100 dark:bg-red-800 text-red-700 dark:text-red-300 rounded-md transition hover:bg-red-300 dark:hover:bg-red-600 hover:text-white text-center"},d[1]||(d[1]=[e("i",{class:"bi bi-trash"},null,-1)]),8,P)]))),128))]),g.value.length===0?(i(),u("p",Q,s(t.$t("No units available.")),1)):b("",!0)])])]),_:1}))}};export{se as default};
